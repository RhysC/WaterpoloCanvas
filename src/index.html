<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Water polo Demo</title>
    <link href="./stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"/>
    <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript"></script>
		<script language="javascript" src="javascripts/sprite.js" type="text/javascript"></script>
		<script language="javascript" src="javascripts/config.js" type="text/javascript"></script>
		<script language="javascript" src="javascripts/positioning.js" type="text/javascript"></script>
		<script language="javascript" src="javascripts/entities.js" type="text/javascript"></script>
  </head>
  <body>
    <script type='text/javascript'>
      //<![CDATA[
      $(function(){
        thingsToDraw = [entities.field];           
        var enemies = [new entities.createBluePlayer(2,5),new entities.createBluePlayer(6,7),new entities.createBluePlayer(8,10),new entities.createBluePlayer(6,14),new entities.createBluePlayer(2,16),new entities.createBluePlayer(2,10)];
        var team =[];
        enemies.forEach(function(enemy) {
          var temp = new entities.createWhitePlayer(0,0);
          temp.goalSideOf(entities.goal1, enemy, 0.5);
          team.push(temp);
        });
        Array.prototype.push.apply(thingsToDraw, enemies);      
        Array.prototype.push.apply(thingsToDraw, team);      
        
       var canvasElement = $("<canvas id='theCanvas' width='" + config.CANVAS_WIDTH + "' height='" + config.CANVAS_HEIGHT + "' style='border-style: solid;border-color: aqua;'></canvas");
       var canvas = canvasElement.get(0).getContext("2d");
       canvasElement.appendTo('body');
        
        draw = function draw() {
          canvas.clearRect(0, 0, config.CANVAS_WIDTH, config.CANVAS_HEIGHT);
          thingsToDraw.forEach(function(thing) {
            thing.draw(canvas);
          });
        }      
        setTimeout(draw, 1000);    
      });
    </script>
  </body>
</html>
